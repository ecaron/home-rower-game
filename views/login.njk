{% extends "template.njk" %}

{% block content %}
  <div class="no-container">

    <div id="intro">
      <h1 class="animate__animated animate__bounceInDown">Welcome To Home Rower!</h1>
      <h2 class="animate__animated animate__bounceInDown animate__delay-1s">Select Your Rower</h2>
    </div>

    <div id="main" style="display:none">
      <div class="row">
        {% for rower in rowers %}
          <div class="left rower-cards">
            <form method="post" action="/login">
              <input type="hidden" name="name" value="{{ rower.id }}">
              <div class="card-panel green lighten-4 center-align hoverable" style="cursor:pointer" onclick="$(this).closest('form').submit()">
                <div class="avatar" data-details="{{ rower.avatar | dump }}"></div>
                <div class="section">
                  <button type="submit" class="white-text btn-large" style="font-size:150%">{{ rower.name }}</button>
                </div>
                <a href="/rower/{{rower.id}}" class="black-text green lighten-2 btn-small edit-rower" title="Edit"><i class="material-icons">edit</i></a>&nbsp;&nbsp;
                {% if rower.logbook %}
                  <a href="#" data-rower="{{rower.id}}" class="black-text light-green darken-2 btn-small info-rower" title="Rower Log"><i class="material-icons">info</i></a>&nbsp;&nbsp;
                {% endif %}
                <a href="#" data-rower="{{rower.id}}" class="black-text lime darken-2 btn-small delete-rower" title="Delete"><i class="material-icons">delete</i></a>
              </div>
            </form>
          </div>
        {% endfor %}
        <div class="rower-cards left">
          <a href="/register" class="white-text">
            <div class="card-panel teal center-align hoverable">
              <h3><i class="large material-icons">add_circle</i><br>Add New Rower</h3>
            </div>
          </a>
        </div>
        <div class="rower-cards left">
          <a href="/realtime" class="white-text">
            <div class="card-panel teal center-align hoverable">
              <h3><i class="large material-icons">show_chart</i><br>Just The Charts</h3>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
  <script>
  setTimeout(function(){
    var $intro = $('#intro')
    setTimeout(function(){
      $intro.hide()
      $('#main').show()
    }, 500)
    $intro.addClass('animate__animated animate__zoomOutDown')
  }, 4000)
  </script>
{% endblock %}
